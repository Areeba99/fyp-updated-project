{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Ali\\\\Desktop\\\\fyp\\\\EXPO\\\\screens\\\\ProfileScreens\\\\Earnings.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { Avatar, Button, Input, ListItem, Text, Divider } from \"react-native-elements\";\nimport UserContext from \"../../connection/userContext\";\nimport { deleteUserData, getData, saveData } from \"../../connection/AsyncStorage\";\nimport { Firebase } from \"../../connection/comms\";\nimport { Orders } from \"../../connection/OrderHandler\";\nimport { Ionicons } from \"@expo/vector-icons\";\nexport default function Earnings(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useContext = useContext(UserContext),\n      loggedIn = _useContext.loggedIn;\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      orders = _useState2[0],\n      setOrders = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      refreshing = _useState6[0],\n      setRefreshing = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      earnings = _useState8[0],\n      setEarnings = _useState8[1];\n\n  var loadDataInView = function loadDataInView() {\n    Orders.getEarnings(loggedIn.uid).then(function (r) {\n      console.log(r);\n      setOrders(r.data);\n      setEarnings(r.total);\n      setLoading(false);\n      setRefreshing(false);\n    });\n  };\n\n  useEffect(function () {\n    var _route$params;\n\n    if ((_route$params = route.params) != null && _route$params.reload) {\n      loadDataInView();\n    }\n\n    console.log(\"Effect Seller Services\");\n\n    if (Loading === true) {\n      loadDataInView();\n    }\n  });\n\n  var onRefresh = function onRefresh() {\n    setRefreshing(true);\n    setLoading(true);\n  };\n\n  return React.createElement(UserContext.Consumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, function (_ref2) {\n    var loggedIn = _ref2.loggedIn,\n        setLoggedin = _ref2.setLoggedin;\n    return React.createElement(KeyboardAvoidingView, {\n      behavior: Platform.OS === \"ios\" ? \"padding\" : \"padding\",\n      style: styles.container,\n      keyboardVerticalOffset: 100,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: {\n        height: 100,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 12,\n        color: \"grey\",\n        marginBottom: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    }, \"All time earnings\"), React.createElement(Text, {\n      style: {\n        fontSize: 40,\n        color: \"#000\",\n        fontWeight: \"bold\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }\n    }, \"Rs. \" + earnings)), React.createElement(ScrollView, {\n      style: styles.container,\n      contentContainerStyle: styles.contentContainer,\n      refreshControl: React.createElement(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 49\n        }\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }, orders && orders.map(function (o, k) {\n      return React.createElement(ListItem, {\n        key: k,\n        title: \"Earned: Rs.\" + o.price,\n        titleStyle: {\n          fontSize: 14\n        },\n        bottomDivider: true,\n        chevron: true,\n        subtitle: \"Order ID: \" + o.id,\n        subtitleStyle: {\n          color: \"grey\",\n          fontSize: 12\n        },\n        leftIcon: React.createElement(Ionicons, {\n          name: \"md-checkmark-circle\",\n          size: 28,\n          color: \"green\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 57\n          }\n        }),\n        onPress: function onPress() {\n          return navigation.navigate(\"SellingOrderDetails\", {\n            order: o\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 37\n        }\n      });\n    }), React.createElement(Text, {\n      style: {\n        textAlign: \"center\",\n        color: \"grey\",\n        marginVertical: 20\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, \"No More details to show.\")));\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  contentContainer: {\n    paddingTop: 30,\n    paddingBottom: 20\n  }\n});","map":{"version":3,"sources":["C:/Users/Ali/Desktop/fyp/EXPO/screens/ProfileScreens/Earnings.js"],"names":["React","useContext","useEffect","useState","ImagePicker","Avatar","Button","Input","ListItem","Text","Divider","UserContext","deleteUserData","getData","saveData","Firebase","Orders","Ionicons","Earnings","navigation","route","loggedIn","orders","setOrders","Loading","setLoading","refreshing","setRefreshing","earnings","setEarnings","loadDataInView","getEarnings","uid","then","r","console","log","data","total","params","reload","onRefresh","setLoggedin","Platform","OS","styles","container","height","justifyContent","alignItems","fontSize","color","marginBottom","fontWeight","contentContainer","map","o","k","price","id","navigate","order","textAlign","marginVertical","StyleSheet","create","flex","backgroundColor","paddingTop","paddingBottom"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport {KeyboardAvoidingView, ScrollView, StyleSheet, View, Platform, TextInput, RefreshControl,} from 'react-native';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport {Avatar, Button, Input, ListItem, Text, Divider} from \"react-native-elements\";\r\nimport UserContext from \"../../connection/userContext\";\r\nimport {deleteUserData, getData, saveData} from \"../../connection/AsyncStorage\";\r\nimport {Firebase} from \"../../connection/comms\";\r\nimport {Orders} from \"../../connection/OrderHandler\";\r\nimport {Ionicons} from \"@expo/vector-icons\";\r\n// import firebase from \"firebase\";\r\n\r\n\r\nexport default function Earnings({navigation, route}) {\r\n    const {loggedIn} = useContext(UserContext)\r\n    const [orders, setOrders] = useState(null)\r\n    const [Loading, setLoading] = useState(true)\r\n    const [refreshing, setRefreshing] = useState(false);\r\n    const [earnings, setEarnings] = useState(0)\r\n\r\n\r\n    const loadDataInView = () => {\r\n        Orders.getEarnings(loggedIn.uid).then(r => {\r\n            console.log(r)\r\n            setOrders(r.data)\r\n            setEarnings(r.total)\r\n            setLoading(false)\r\n            setRefreshing(false)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (route.params?.reload){\r\n            loadDataInView()\r\n        }\r\n\r\n        console.log(\"Effect Seller Services\")\r\n        if (Loading === true) {\r\n            loadDataInView()\r\n        }\r\n\r\n    })\r\n\r\n    const onRefresh = () => {\r\n        setRefreshing(true)\r\n        setLoading(true)\r\n\r\n    }\r\n\r\n    return (\r\n        <UserContext.Consumer>\r\n            {({loggedIn, setLoggedin}) => (\r\n                <KeyboardAvoidingView behavior={Platform.OS === \"ios\" ? \"padding\" : \"padding\"}\r\n                                      style={styles.container} keyboardVerticalOffset={100}>\r\n                    <View style={{height: 100, justifyContent: \"center\", alignItems: \"center\"}}>\r\n                        <Text style={{fontSize: 12, color: \"grey\", marginBottom: 10}}>{\"All time earnings\"}</Text>\r\n                        <Text style={{fontSize: 40, color: \"#000\", fontWeight: \"bold\"}}>{\"Rs. \"+ earnings}</Text>\r\n                    </View>\r\n                    <ScrollView style={styles.container} contentContainerStyle={styles.contentContainer}\r\n                                refreshControl={<RefreshControl refreshing={refreshing} onRefresh={onRefresh}/>}>\r\n                        {orders && orders.map((o, k) => {\r\n                            return (<ListItem key={k} title={\"Earned: Rs.\"+o.price}\r\n                                              titleStyle={{fontSize: 14}}\r\n                                              bottomDivider\r\n                                              chevron\r\n                                              subtitle={\"Order ID: \"+o.id}\r\n                                              subtitleStyle={{color: \"grey\", fontSize: 12}}\r\n                                              leftIcon={<Ionicons name={\"md-checkmark-circle\"} size={28} color={\"green\"}/>}\r\n                                              onPress={()=>navigation.navigate(\"SellingOrderDetails\", {order: o})}\r\n\r\n                            />)\r\n                            })}\r\n                            <Text style={{textAlign: \"center\", color: \"grey\", marginVertical: 20}}>No More details to show.</Text>\r\n\r\n                    </ScrollView>\r\n                </KeyboardAvoidingView>\r\n\r\n            )}\r\n        </UserContext.Consumer>\r\n    );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1 ,\r\n        backgroundColor: '#fff',\r\n    },\r\n\r\n    contentContainer: {\r\n        paddingTop: 30,\r\n        paddingBottom: 20\r\n    },\r\n\r\n});"]},"metadata":{},"sourceType":"module"}